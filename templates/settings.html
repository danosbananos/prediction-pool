{% extends "base.html" %}

{% block title %}Settings â€” {{ pool.name }}{% endblock %}
{% block header %}Pool Settings{% endblock %}
{% block subheader %}{{ pool.name }}{% endblock %}

{% block content %}

<a href="{{ url_for('pool_view', pool_id=pool.id) }}" style="font-size: 0.85rem; display: inline-flex; align-items: center; gap: 0.3rem;">&larr; Back to pool</a>

{# --- Edit pool info --- #}
<div class="section-title">Pool Info</div>
<div class="card">
    <form method="post" action="{{ url_for('edit_pool', pool_id=pool.id) }}">
        <label for="name">Pool Name</label>
        <input type="text" name="name" id="name" value="{{ pool.name }}" required>
        <label for="description">Description <small class="muted">(optional)</small></label>
        <input type="text" name="description" id="description" value="{{ pool.description or '' }}" placeholder="e.g. Glory Heavyweight Tournament">
        <button type="submit" class="btn btn-secondary mt-2">Update Pool Info</button>
    </form>
</div>

{# --- Delete pool --- #}
<div class="danger-zone">
    <h4>Delete Pool</h4>
    <form method="post" action="{{ url_for('delete_pool', pool_id=pool.id) }}">
        <button type="submit" class="btn btn-danger"
                onclick="return confirm('Are you sure? This will permanently delete the pool and all predictions.')">
            Delete This Pool
        </button>
    </form>
</div>

{% endblock %}
